<script>
const MAPBOX_TOKEN="pk.eyJ1IjoiamNidW5jaDMiLCJhIjoiY2t6NzM0em9uMGlvbzMwbWdkbmR5N2loaCJ9.eKquRAbhpJDDshFFKtd9Yw";
const MOBILE_STYLE="mapbox://styles/jcbunch3/cljssqa5h01ch01o4adoyhdlt";
const DESKTOP_STYLE="mapbox://styles/jcbunch3/cljssqa5h01ch01o4adoyhdlt";
const SOURCES={places:"mapbox://jcbunch3.cmd6clxb92tlo1ns8ro5qgig8-6jlvw","cultural-landscapes":"mapbox://jcbunch3.9b7pcnhy","national-parks":"mapbox://jcbunch3.clkc6qkel2xr42aleuq3sjnsq-0zrfg",railroads:"mapbox://jcbunch3.8o05xvpq",vineyards:"mapbox://jcbunch3.86vjg7du","mapbox-dem":"mapbox://mapbox.mapbox-terrain-dem-v1"};
function getLegend(){return`<h4>Map Legend</h4><div class="legend-section"><h5>Places by Importance</h5><div class="legend-item"><div class="destination-type top">Top Destinations</div></div><div class="legend-item"><div class="destination-type worth">Worth a Visit</div></div><div class="legend-item"><div class="destination-type special">Special Interest</div></div><div class="legend-item"><div class="destination-type natural">Beautiful Landscape</div></div></div><div class="legend-section"><h5>Location Types</h5><div class="legend-item active" data-filter="city"><svg width="15" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 12.3C4.84898 12.3 2.7 10.151 2.7 7.5C2.7 4.84898 4.84898 2.7 7.5 2.7C10.151 2.7 12.3 4.84898 12.3 7.5C12.3 10.151 10.151 12.3 7.5 12.3ZM7.5 14C11.0899 14 14 11.0899 14 7.5C14 3.9101 11.0899 1 7.5 1C3.9101 1 1 3.9101 1 7.5C1 11.0899 3.9101 14 7.5 14Z" fill="#333"/></svg><span>Top Destination</span></div><div class="legend-item active" data-filter="circle-sm"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M13,4H9l0-3L7.5,0L6,1v3H2L1,5v1h13V5L13,4z M7.5,1.5c0.4,0,0.7,0.3,0.7,0.8S7.9,3,7.5,3S6.7,2.7,6.7,2.2C6.7,1.8,7.1,1.5,7.5,1.5z M13,7H2v4l-1,1.5V14h13v-1.5L13,11V7z M5,12.5H4V8h1V12.5z M8,12.5H7V8h1V12.5z M11,12.5h-1V8h1V12.5z" fill="#333"/></svg><span>City or Town</span></div><div class="legend-item active" data-filter="square-sm"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M11,4H4C3.4477,4,3,3.5523,3,3V0.5C3,0.2239,3.2239,0,3.5,0S4,0.2239,4,0.5V2h1V1c0-0.5523,0.4477-1,1-1s1,0.4477,1,1v1h1V1c0-0.5523,0.4477-1,1-1s1,0.4477,1,1v1h1V0.5C11,0.2239,11.2239,0,11.5,0S12,0.2239,12,0.5V3C12,3.5523,11.5523,4,11,4z M14,14.5c0,0.2761-0.2239,0.5-0.5,0.5h-12C1.2239,15,1,14.7761,1,14.5S1.2239,14,1.5,14H2c0.5523,0,1-0.4477,1-1c0,0,1-6,1-7c0-0.5523,0.4477-1,1-1h5c0.5523,0,1,0.4477,1,1c0,1,1,7,1,7c0,0.5523,0.4477,1,1,1h0.5c0.2723-0.0001,0.4946,0.2178,0.5,0.49V14.5z M9,10.5C9,9.6716,8.3284,9,7.5,9S6,9.6716,6,10.5V14h3V10.5z" fill="#333"/></svg><span>Castle or Palace</span></div><div class="legend-item active" data-filter="museum"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M7.5,0L1,3.5V4h13V3.5L7.5,0z M2,5v5l-1,1.6V13h13v-1.4L13,10V5H2z M4,6h1v5.5H4V6z M7,6h1v5.5H7V6z M10,6h1v5.5h-1V6z" fill="#333"/></svg><span>Open-Air</span></div><div class="legend-item active" data-filter="crosshammer"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M14,1v12H1V8.72c0.0016-0.1419,0.0634-0.2764,0.17-0.37l3-3.22c0.2074-0.1823,0.5234-0.1618,0.7056,0.0456C4.9568,5.268,5.0011,5.387,5,5.51v3l3.16-3.37c0.2025-0.1878,0.5188-0.1759,0.7066,0.0266C8.9532,5.2599,9.0009,5.3827,9,5.51V11h3V1H14z" fill="#333"/></svg><span>Industrial</span></div><div class="legend-item active" data-filter="lookout-360"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M6.02,8.425a2.3859,2.3859,0,0,0-.46.44l-4.55-3.5a7.9976,7.9976,0,0,1,1.51-1.51Zm6.46-4.56-3.5,4.55a2.3971,2.3971,0,0,1,.45.45l4.56-3.5A7.945,7.945,0,0,0,12.48,3.865ZM7.3042,10.0129a1.5,1.5,0,1,0,1.6829,1.2914h0A1.5,1.5,0,0,0,7.3042,10.0129ZM6.43,2.235a7.9329,7.9329,0,0,0-2.06.55l2.2,5.32a2.0438,2.0438,0,0,1,.61-.17Zm2.14.01-.75,5.69a2.49,2.49,0,0,1,.61.16l2.2-5.3A7.2129,7.2129,0,0,0,8.57,2.245Z" fill="#333"/></svg><span>Viewpoint</span></div><div class="legend-item active" data-filter="religious-christian"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M6.5,0V1h-3v2h3v11h2V3h3V1h-3V0H6.5z" fill="#333"/></svg><span>Church</span></div><div class="legend-item active" data-filter="religious-jewish"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M7.5,0l-2,2h-4v2l2,2l-2,2v2h4l2,2l2-2h4v-2l-2-2l2-2v-2h-4L7.5,0z M7.5,3l1,1h2l-1,1l1,1l-1,1l1,1h-2l-1,1l-1-1h-2l1-1l-1-1l1-1l-1-1h2L7.5,3z" fill="#333"/></svg><span>Synagogue</span></div><div class="legend-item active" data-filter="monument"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M7.5,0L6,2.5v7h3v-7L7.5,0z M3,11.5L3,15h9v-3.5L10.5,10h-6L3,11.5z" fill="#333"/></svg><span>Other Destinations</span></div></div><div class="legend-section"><h5>Areas & Routes</h5><div class="legend-item active" data-filter="national-parks"><span class="color-indicator" style="background-color: #285c3a"></span><span>National Parks</span></div><div class="legend-item active" data-filter="railroads"><span class="color-indicator" style="background-color: #a87348"></span><span>Railroads</span></div><div class="legend-item active" data-filter="vineyards"><span class="color-indicator" style="background-color: #7e09a5"></span><span>Vineyards</span></div><div class="legend-item inactive" data-filter="cultural-landscapes"><span class="color-indicator" style="background-color: #376da1"></span><span>Cultural Landscapes</span></div></div>`;}
function createLayerToggle(map,filter){const toggles={'cultural-landscapes':()=>toggleLayerPair(map,'cultural-landscapes-fill','cultural-landscapes-label'),'national-parks':()=>toggleLayerPair(map,'national-parks-fill','national-parks-label'),'railroads':()=>toggleSingleLayer(map,'railroads'),'vineyards':()=>toggleSingleLayer(map,'vineyards')};return toggles[filter]||null;}
function toggleLayerPair(map,fillId,labelId){const v=map.getLayoutProperty(fillId,'visibility');const n=v==='visible'?'none':'visible';map.setLayoutProperty(fillId,'visibility',n);map.setLayoutProperty(labelId,'visibility',n);return n;}
function toggleSingleLayer(map,layerId){const v=map.getLayoutProperty(layerId,'visibility');const n=v==='visible'?'none':'visible';map.setLayoutProperty(layerId,'visibility',n);return n;}
function addSources(map){Object.entries(SOURCES).forEach(([name,url])=>{if(name==='mapbox-dem'){map.addSource(name,{type:'raster-dem',url:url,tileSize:512,maxzoom:14});}else{map.addSource(name,{type:"vector",url:url});}});}
function applyLocationConfig(map,isMobile){const cfg={"interactive-map":{center:[8.7,50.1],zoom:{mobile:4.25,desktop:7}},"shopluk":{center:[22.8,41.9],zoom:{mobile:7,desktop:7.5}},"pirin":{center:[23.4,41.5],zoom:8},"dobruja":{center:[28,43.5],zoom:6.5},"northern-bulgaria":{center:[25,41],zoom:{mobile:6,desktop:7}},"thracian-valley":{center:[25.5,41.4],zoom:{mobile:6.5,desktop:7.5}},"strandzha":{center:[27.3,42],zoom:7.5},"rhodope-mountains":{center:[24.7,41.2],zoom:7.5},"western-thrace":{center:[25.4,40.8],zoom:8},"holstein":{center:[10,53.7],zoom:8.5},"mecklenburg":{center:[12.3,53.5],zoom:8.5},"schleswig":{center:[9.2,54.6],zoom:8.5},"slesvig":{center:[9.2,54.6],zoom:8.5},"vorpommern":{center:[13.6,53.6],zoom:8.5},"scania":{center:[14,55.8],zoom:8},"sjaelland":{center:[11.9,55.2],zoom:8},"fyn":{center:[10.3,55],zoom:8.5},"jylland":{center:[9.5,56.5],zoom:8},"uckermark":{center:[13.8,53.1],zoom:9.5},"mittelmark":{center:[13.2,52.3],zoom:8},"berlin":{center:[13.4,52.5],zoom:10},"altmark":{center:[11.7,52.7],zoom:9},"lower-saxony":{center:[10.3,52.6],zoom:8},"anhalt":{center:[12.1,51.75],zoom:9.5},"eastphalia":{center:[11.1,51.6],zoom:8},"thuringia":{center:[10.9,50.7],zoom:8.5},"electoral-saxony":{center:[13.2,51],zoom:8},"lusatia":{center:[14.5,51.3],zoom:8.5},"hessen":{center:[9.3,50.7],zoom:8.5},"wetterau":{center:[9,50],zoom:9},"explore-frankfurt":{center:[9,50],zoom:9},"westerwald":{center:[8,50.2],zoom:9},"the-ore-mountains":{center:[13.54,50.6],zoom:9},"main-franconia":{center:[10.1,50.05],zoom:9.5},"upper-franconia":{center:[11.1,50.05],zoom:9.5},"middle-franconia":{center:[10.8,49.1],zoom:9},"odenwald":{center:[9.2,49.67],zoom:9},"vogtland":{center:[12.1,50.3],zoom:9},"hohenlohe":{center:[9.8,49.3],zoom:9},"upper-bavaria":{center:[11.7,48.1],zoom:8.5},"lower-bavaria":{center:[12.7,48.7],zoom:9},"upper-palatinate":{center:[12.15,49.4],zoom:9},"allgau":{center:[10.3,47.6],zoom:9},"oberschwaben":{center:[9.9,48.2],zoom:8.5},"wurttemberg":{center:[9,48.4],zoom:8.5},"lake-constance-bodensee":{center:[9.2,47.6],zoom:10},"ducal-bar":{center:[5.5,49],zoom:9},"lorraine":{center:[6.4,48.6],zoom:8.5},"luxembourg":{center:[5.65,49.7],zoom:9},"saarland":{center:[7,49.2],zoom:9.5},"middle-rhine-valley":{center:[7.6,50.25],zoom:9.5},"mosel-valley":{center:[6.9,50],zoom:9},"electoral-palatinate":{center:[8.15,49.4],zoom:9},"alsace":{center:[7.5,48.5],zoom:9},"baden":{center:[8.2,48.5],zoom:9},"basel":{center:[6.9,50],zoom:9},"maas-valley":{center:[5.5,50.7],zoom:8.5},"lower-rhine-valley":{center:[6.5,51.2],zoom:9},"bergisches-land":{center:[7.3,50.9],zoom:9.5},"weser-engern":{center:[8.9,52.78],zoom:8.5},"sauerland":{center:[8,51.1],zoom:9.5},"westphalia":{center:[7.7,52.3],zoom:9},"ruhr":{center:[7.7,52.3],zoom:9},"emsland":{center:[7.7,52.7],zoom:8.5},"west-frisia":{center:[6.1,53.1],zoom:8.5},"east-frisia":{center:[7.5,53.5],zoom:8.5},"oldenburger-land":{center:[8.2,53.3],zoom:8.5},"oversticht":{center:[6.4,52.6],zoom:9},"holland":{center:[4.4,52.3],zoom:9},"brabant":{center:[5.05,51.2],zoom:9},"flanders":{center:[3.3,50.9],zoom:9},"artois":{center:[3.3,50.9],zoom:9},"picardy":{center:[3.3,50.9],zoom:9},"hainaut":{center:[4,50.3],zoom:9},"gelderland":{center:[5.6,52.1],zoom:9},"florence":{center:[11.3,43.7],zoom:9},"pisa":{center:[10.4,43.3],zoom:{mobile:9,desktop:9}},"lucca":{center:[10.4,44],zoom:{mobile:9,desktop:10}},"carrara":{center:[10.1,44.1],zoom:10},"siena":{center:[11.3,43],zoom:9,specialConfig:{mapHeight:"700px"}},"republic-of-florence":{center:[11.3,43.7],zoom:9},"republic-of-pisa":{center:[10.4,43.1],zoom:9},"republic-of-lucca":{center:[10.4,44],zoom:10},"duchy-of-massa-and-carrara":{center:[10.1,44],zoom:11},"republic-of-siena":{center:[11.3,42.8],zoom:9},"vienna":{center:[16.4,48.2],zoom:10},"eisenwurzen":{center:[14.64,47.84],zoom:9},"forest-district":{center:[15.28,48.66],zoom:9},"wachau":{center:[15.42,48.2],zoom:10},"wine-district":{center:[16.44,48.6],zoom:9},"salzburg":{center:[13.1,47.8],zoom:9},"lower-austria":{center:[15.89,48.0],zoom:9},"upper-austria":{center:[14.3,48.2],zoom:9},"upper-styria":{center:[15.2,47.1],zoom:9},"lower-styria":{center:[15.4,46.36],zoom:9},"carinthia":{center:[13.9,46.7],zoom:9},"carniola":{center:[14.56,45.9],zoom:9},"imperial-littoral":{center:[14,45.45],zoom:9}};const url=window.location.href;for(const[loc,c]of Object.entries(cfg)){if(url.includes(loc)){const z=typeof c.zoom==='object'?(isMobile?c.zoom.mobile:c.zoom.desktop):c.zoom;map.setCenter(c.center);map.setZoom(z);if(c.specialConfig&&c.specialConfig.mapHeight){document.querySelector(".map").style.height=c.specialConfig.mapHeight;}break;}}}
</script>
